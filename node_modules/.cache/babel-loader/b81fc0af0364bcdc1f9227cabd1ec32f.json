{"ast":null,"code":"import _defineProperty from\"C:/Users/Amos/Desktop/manage-it/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Amos/Desktop/manage-it/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Amos/Desktop/manage-it/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import AlertContext from'../../context/alert/alertContext';import AuthContext from'../../context/auth/authContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(props){var alertContext=useContext(AlertContext);var authContext=useContext(AuthContext);var setAlert=alertContext.setAlert;var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='User already exists'){setAlert(error,'danger');clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''){setAlert('Please enter all fields','danger');}else if(password!==password2){setAlert('Password do not match','danger');}else{register({name:name,email:email,password:password});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Account \",/*#__PURE__*/_jsx(\"span\",{className:\"text-primary\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password2\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",className:\"btn btn-primary btn-block\"})]})]});};export default Register;","map":{"version":3,"sources":["C:/Users/Amos/Desktop/manage-it/client/src/components/auth/Register.js"],"names":["React","useContext","useEffect","useState","AlertContext","AuthContext","Register","props","alertContext","authContext","setAlert","register","error","clearErrors","isAuthenticated","history","push","name","email","password","password2","user","setUser","onChange","e","target","value","onSubmit","preventDefault"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport AlertContext from '../../context/alert/alertContext';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\nconst Register = props => {\r\n    const alertContext = useContext(AlertContext);\r\n    const authContext = useContext(AuthContext);\r\n\r\n    const { setAlert } = alertContext;\r\n    const { register, error, clearErrors, isAuthenticated } = authContext;\r\n\r\n    useEffect(() => {\r\n        if (isAuthenticated) {\r\n            props.history.push('/');\r\n        }\r\n\r\n        if (error === 'User already exists') {\r\n            setAlert(error, 'danger');\r\n            clearErrors();\r\n        }\r\n\r\n        // eslint-disable-next-line\r\n    }, [error, isAuthenticated, props.history]);\r\n\r\n    const [user, setUser] = useState({\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        password2: ''\r\n    });\r\n\r\n    const { name, email, password, password2 } = user;\r\n\r\n    const onChange = e => {\r\n        setUser({...user, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        if (name === '' || email === '' || password === '') {\r\n            setAlert('Please enter all fields', 'danger');\r\n        } else if (password !== password2) {\r\n            setAlert('Password do not match', 'danger');\r\n        } else {\r\n            register({\r\n                name,\r\n                email,\r\n                password\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='form-container'>\r\n            <h1>\r\n                Account <span className=\"text-primary\">Register</span>\r\n            </h1>\r\n            <form onSubmit={onSubmit}>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        name='name' \r\n                        value={name} \r\n                        onChange={onChange} \r\n                        required \r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email Address</label>\r\n                    <input \r\n                        type=\"email\" \r\n                        name='email' \r\n                        value={email} \r\n                        onChange={onChange} \r\n                        required \r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input \r\n                        type=\"password\" \r\n                        name='password' \r\n                        value={password} \r\n                        onChange={onChange} \r\n                        required \r\n                        minLength='6'\r\n                    />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"password2\">Confirm Password</label>\r\n                    <input \r\n                        type=\"password\" \r\n                        name='password2' \r\n                        value={password2} \r\n                        onChange={onChange} \r\n                        required\r\n                        minLength='6' \r\n                    />\r\n                </div>\r\n                <input type=\"submit\" value=\"Register\" className=\"btn btn-primary btn-block\" />\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}